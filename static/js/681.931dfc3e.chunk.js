"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[681],{1681:function(e,n,t){t.r(n),t.d(n,{AppsOrig:function(){return z}});var r=t(2791),a=t(9439),c=t(4420),i=t(5861),s=t(4687),o=t.n(s),u=t(2276),d=t(8),l="https://669a60969ba098ed61ff6ac9.mockapi.io/contacts",f=(0,u.hg)("contacts/fetchAll",(0,i.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.get(l);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))),m=(0,u.hg)("contacts/addContact",function(){var e=(0,i.Z)(o().mark((function e(n){var t,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.name,r=n.phone,e.next=3,d.Z.post(l,{name:t,phone:r});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),p=(0,u.hg)("contacts/deleteContact",function(){var e=(0,i.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.delete("".concat(l,"/").concat(n));case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),h=((0,u.oM)({name:"contacts",initialState:{items:[],isLoading:!1,error:null},reducers:{},extraReducers:function(e){e.addCase(f.pending,(function(e){e.isLoading=!0,e.error=null})).addCase(f.fulfilled,(function(e,n){e.isLoading=!1,e.items=n.payload})).addCase(f.rejected,(function(e,n){e.isLoading=!1,e.error=n.error.message})).addCase(m.pending,(function(e){e.isLoading=!0,e.error=null})).addCase(m.fulfilled,(function(e,n){e.isLoading=!1,e.items.push(n.payload)})).addCase(m.rejected,(function(e,n){e.isLoading=!1,e.error=n.error.message})).addCase(p.pending,(function(e){e.isLoading=!0,e.error=null})).addCase(p.fulfilled,(function(e,n){e.isLoading=!1,e.items=e.items.filter((function(e){return e.id!==n.payload}))})).addCase(p.rejected,(function(e,n){e.isLoading=!1,e.error=n.error.message}))}}).reducer,function(e){return e.contacts.items}),x=function(e){return e.filter},j=function(e){return e.contacts.isLoading},C=function(e){return e.contacts.error},g="ContactForm_form__dhl+T",v="ContactForm_formField__O5fo+",_="ContactForm_formLabel__TSwxK",L="ContactForm_formButton__TN6Jq",b=t(184),w=function(){var e=(0,c.I0)(),n=(0,c.v9)(h),t=(0,r.useState)(""),i=(0,a.Z)(t,2),s=i[0],o=i[1],u=(0,r.useState)(""),d=(0,a.Z)(u,2),l=d[0],f=d[1];return(0,b.jsxs)("form",{className:g,onSubmit:function(t){(t.preventDefault(),""!==s.trim()&&""!==l.trim())&&(n.find((function(e){return e.name.toLowerCase()===s.toLowerCase()}))?alert("".concat(s," already exists in contacts!")):(e(m({name:s,phone:l})),o(""),f("")))},children:[(0,b.jsxs)("label",{className:v,children:[(0,b.jsx)("p",{className:_,children:"Name"}),(0,b.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Za-\u044f\u0410-\u042f]+(([' \\-][a-zA-Za-\u044f\u0410-\u042f ])?[a-zA-Za-\u044f\u0410-\u042f]*)*$",value:s,onChange:function(e){o(e.target.value)},required:!0,placeholder:"Enter name"})]}),(0,b.jsxs)("label",{className:v,children:[(0,b.jsx)("p",{className:_,children:"Number"}),(0,b.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[\\-.\\s]?\\(?\\d{1,3}?\\)?[\\-.\\s]?\\d{1,4}[\\-.\\s]?\\d{1,4}[\\-.\\s]?\\d{1,9}",value:l,onChange:function(e){f(e.target.value)},required:!0,placeholder:"Enter number"})]}),(0,b.jsx)("button",{className:L,type:"submit",children:"Add Contact"})]})},k="ContactListItem_contactListItem__A4sXv",y="ContactListItem_contactAlign__wck7w",N=function(e){var n=e.contact,t=e.deleteContact;return(0,b.jsxs)("li",{className:k,children:[(0,b.jsxs)("div",{className:y,children:[(0,b.jsx)("p",{children:n.name}),(0,b.jsx)("p",{children:n.phone})]}),(0,b.jsx)("button",{onClick:function(){t(n.id)},children:"Delete"})]})},Z=function(){var e=(0,c.I0)(),n=(0,c.v9)(h),t=(0,c.v9)(x),r=(0,c.v9)(j),a=(0,c.v9)(C),i=n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return(0,b.jsxs)(b.Fragment,{children:[r&&(0,b.jsx)("p",{children:"Loading..."}),a&&(0,b.jsxs)("p",{children:["Error: ",a]}),(0,b.jsx)("ul",{children:i.map((function(n){return(0,b.jsx)(N,{contact:n,deleteContact:function(){return e(p(n.id))}},n.id)}))})]})},F="Filter_container__L5eml",A=(0,u.oM)({name:"filter",initialState:"",reducers:{setFilter:function(e,n){return n.payload}}}),S=A.actions.setFilter,I=(A.reducer,function(){var e=(0,c.I0)(),n=(0,c.v9)(x);return(0,b.jsxs)("div",{className:F,children:[(0,b.jsx)("p",{children:"Find Contacts by Name"}),(0,b.jsx)("input",{type:"text",name:"filter",placeholder:"Search by name",value:n,onChange:function(n){e(S(n.target.value))}})]})}),E=function(e){var n=e.title,t=e.children;return(0,b.jsxs)("section",{children:[(0,b.jsx)("h2",{children:n}),t]})},q=t(9839),z=function(){return(0,r.useEffect)((function(){q.h.dispatch(f())}),[]),(0,b.jsxs)("div",{children:[(0,b.jsx)(E,{title:"Phonebook",children:(0,b.jsx)(w,{})}),(0,b.jsxs)(E,{title:"Contacts",children:[(0,b.jsx)(I,{}),(0,b.jsx)(Z,{})]})]})}}}]);
//# sourceMappingURL=681.931dfc3e.chunk.js.map